<!DOCTYPE html>
<html lang="en">
<%- include('partials/head.partials.ejs') %>
 <link rel="stylesheet" href="../styles/archive.css">

<body>
    <!-- Archive Page Title -->
    <section class="archive-page-title">
        <h1>Archived Blogs</h1>
        <p>A collection of thoughts, ideas, and stories from the past</p>
    </section>

    <section class="archive-block">

        <% blogs.forEach(blog =>{ %>
            <div class="archive" onclick="window.location.href='/post/<%= blog._id %>'">
                <div class="header">
                   <div class="archive-title">
                        <h2><%= blog.title %></h2>
                    </div> 
                    <div class="archive-date">
                        <p><%= blog.createdAt ? new Date(blog.createdAt).toLocaleDateString() : '' %></p>
                    </div>
                </div>
                <div class="bottom-section">
                    <div class="archive-content">
                        <p><%= blog.description %></p>
                    </div> 
                <% if(isLoggedIn){ %>
                    <div class="delete-container">
                        <form action="/delete/<%= blog._id %>" method="POST" onClick="event.stopPropagation();">
                            <button type="submit">delete</button>
                        </form>
                    </div>
                <% } %>
                </div>
                
            </div>
        <% }) %>
        <% if(blogs.length === 0){ %>
            <div class="no-blogs-message">
                <p>No blogs available in the archive. Check back later!</p>
            </div>
        <% } %>

        
    </section>
    
    <!-- Bottom Navigation -->
     <%- include('partials/navigation.partial.ejs') %>
    <!-- <nav class="bottom-nav">
        <div class="nav-links">
            <a href="/">home</a>
            <a href="about">about</a>
            <a href="archive" class="active">archive</a>
            <a href="contact">contact</a>
        </div>
    </nav> -->
    
</body>
</html>